<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>Allen & Betty | 2026.05.24</title>
  
  <!-- å¼•å…¥é«˜è³ªæ„Ÿå­—é«” -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;0,700;1,400&family=Noto+Serif+TC:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg-color: #fcfbf9;      
      --text-color: #4a4a4a;
      --accent-color: #a38f76;  
      --red-accent: #ba2f2f;    
      --font-en: 'Cormorant Garamond', serif;
      --font-zh: 'Noto Serif TC', serif;
      
      /* ä¿¡å°é…è‰² */
      --env-bg: #f7f5f0;        /* çç ç±³ç™½ */
      --env-shadow: rgba(163, 143, 118, 0.15);
      --gold-seal: #d4af37;     /* é‡‘è‰² */
    }

    * { box-sizing: border-box; }
    html, body {
      margin: 0; padding: 0;
      background-color: var(--bg-color);
      color: var(--text-color);
      font-family: var(--font-zh);
      line-height: 1.8;
      overflow-x: hidden;
      scroll-behavior: smooth;
    }

    /* âœ… è‡ªå‹•æ²å‹•æ™‚é—œæ‰ smoothï¼Œé¿å…æ‰‹æ©Ÿä¸å‹• */
    html.autoscroll-off-smooth {
      scroll-behavior: auto !important;
    }
    
    h1, h2, h3 { font-family: var(--font-en); margin: 0; font-weight: 400; }
    img { display: block; width: 100%; height: auto; object-fit: cover; }
    .container { max-width: 1400px; margin: 0 auto; padding: 0 24px; position: relative; z-index: 2; }
    .text-center { text-align: center; }
    .fade-up { opacity: 0; transform: translateY(30px); transition: all 1s ease; }
    .fade-up.visible { opacity: 1; transform: translateY(0); }

    /* === [ä¿¡å°è¨­è¨ˆ] ç·šæ¢åŠ å¼·ç‰ˆ === */
    #envelope-overlay {
      position: fixed; inset: 0; z-index: 9999;
      background: #f0ebe5; /* æŸ”å’ŒèƒŒæ™¯ */
      display: flex; flex-direction: column; 
      align-items: center; justify-content: center;
      transition: opacity 1.2s ease, visibility 1.2s;
    }
    #envelope-overlay.hidden { opacity: 0; visibility: hidden; pointer-events: none; }

    /* æŒ‡å¼•æ–‡å­— */
    .click-hint {
      margin-bottom: 40px;
      text-align: center;
      animation: floatHint 2s infinite ease-in-out;
      z-index: 100;
    }
    .click-hint h3 {
      font-family: var(--font-zh);
      font-size: 1.2rem;
      letter-spacing: 3px;
      color: #666;
      margin-bottom: 5px;
      font-weight: 400;
    }
    .click-hint span {
      font-family: var(--font-en);
      font-size: 0.9rem;
      letter-spacing: 2px;
      color: #999;
      text-transform: uppercase;
    }

    /* ä¿¡å°å®¹å™¨ */
    .modern-env {
      position: relative;
      width: 320px; height: 220px;
      cursor: pointer;
      perspective: 1000px;
    }

    /* ä¿¡å°æœ¬é«” (èƒŒé¢) */
    .env-back {
      position: absolute; bottom: 0; width: 100%; height: 100%;
      background: #fff;
      border-radius: 8px;
      /* åŠ æ·±é™°å½±ï¼Œè®“ä¿¡å°æœ¬é«”æµ®èµ·ä¾† */
      box-shadow: 0 25px 50px -10px rgba(0,0,0,0.2); 
      border: 1px solid #e0e0e0;
    }

    /* å…§å¡ (é è¦½) */
    .env-card {
      position: absolute;
      left: 10px; right: 10px; bottom: 10px; height: 85%;
      background: #faf9f6;
      border: 1px solid #ddd;
      display: flex; flex-direction: column; align-items: center; justify-content: flex-start;
      padding-top: 30px;
      z-index: 5;
      transition: transform 0.8s ease 0.4s;
    }
    .env-card-text { font-family: var(--font-en); font-size: 1.8rem; color: #333; }
    
    /* ä¿¡å°å£è¢‹ (å‰é¢) */
    .env-front {
      position: absolute; bottom: 0; left: 0; width: 100%; height: 100%;
      background: var(--env-bg);
      clip-path: polygon(0 0, 50% 60%, 100% 0, 100% 100%, 0 100%);
      z-index: 10;
      border-radius: 0 0 8px 8px;
      background: linear-gradient(135deg, #fdfbf7 0%, #f2f0e6 100%);
      /* [ä¿®æ”¹] åŠ ä¸Š Drop Shadow è®“å£è¢‹é‚Šç·£æ¸…æ¥š */
      filter: drop-shadow(0 -1px 1px rgba(0,0,0,0.1));
    }

    /* ä¿¡å°è“‹ (å¯ç¿»è½‰) */
    .env-flap {
      position: absolute; top: 0; left: 0; width: 100%; height: 100%;
      background: linear-gradient(to bottom, #fdfbf7, #ebe8e0);
      clip-path: polygon(0 0, 100% 0, 50% 60%);
      transform-origin: top;
      transition: transform 0.6s ease-in-out, z-index 0.6s;
      z-index: 20;
      border-radius: 8px 8px 0 0;
      
      /* [ä¿®æ”¹] é—œéµï¼šé€™è£¡åŠ å¼·äº†é™°å½±ï¼Œæ¨¡æ“¬é‚Šæ¡†ç·šæ¢ */
      filter: drop-shadow(0 0 1px rgba(0,0,0,0.3)) drop-shadow(0 5px 10px rgba(0,0,0,0.15));
    }
    /* è“‹å­ä¸Šç·£åŠ ä¸€æ¢å¯¦ç·šï¼Œé¿å…é ‚éƒ¨çœ‹ä¸æ¸…æ¥š */
    .env-flap::after {
      content: ''; position: absolute; top: 0; left: 0; right: 0; height: 1px;
      background: rgba(0,0,0,0.1);
    }

    /* é‡‘è‰²å°è Ÿ */
    .gold-seal {
      position: absolute; top: 58%; left: 50%;
      transform: translate(-50%, -50%);
      width: 46px; height: 46px;
      background: radial-gradient(circle at 30% 30%, #ebd39c, #cfa578);
      border-radius: 50%;
      box-shadow: 0 4px 10px rgba(163, 143, 118, 0.4);
      z-index: 30;
      display: flex; align-items: center; justify-content: center;
      color: #fff; font-family: var(--font-en); font-weight: 600; font-size: 12px; letter-spacing: 1px;
      transition: opacity 0.4s;
      border: 1px solid rgba(255,255,255,0.4);
    }
    .gold-seal::after {
      content: ''; position: absolute; inset: 3px; border: 1px solid rgba(255,255,255,0.3); border-radius: 50%;
    }

    /* é–‹å•Ÿå‹•ç•«ç‹€æ…‹ */
    .modern-env.open .env-flap {
      transform: rotateX(180deg);
      z-index: 1;
    }
    .modern-env.open .gold-seal {
      opacity: 0; pointer-events: none;
    }
    .modern-env.open .env-card {
      transform: translateY(-120px);
      z-index: 15;
    }
    .modern-env:hover .gold-seal { transform: translate(-50%, -50%) scale(1.1); transition: 0.3s; }

    @keyframes floatHint { 0%, 100% {transform: translateY(0);} 50% {transform: translateY(-5px);} }


    /* === 2. Hero ä¸»è¦–è¦º === */
    .hero {
      position: relative; height: 100vh; width: 100%;
      display: flex; align-items: center; justify-content: center; overflow: hidden; color: #fff;
    }
    .hero-bg {
      position: absolute; inset: 0;
      background-image: url('assets/img/dsc_1780.webp');
      background-size: cover; background-position: center;
      filter: brightness(0.6); transform: scale(1.1); transition: transform 10s ease; z-index: 0;
    }
    .hero.active .hero-bg { transform: scale(1); }
    .hero-content {
      position: relative; z-index: 2; text-align: center; opacity: 0;
      transform: translateY(30px); transition: opacity 1.5s ease, transform 1.5s ease;
    }
    .hero.active .hero-content { opacity: 1; transform: translateY(0); }
    .hero-title { font-size: clamp(3.5rem, 8vw, 6rem); font-family: var(--font-en); line-height: 1.1; margin-bottom: 20px; text-shadow: 0 4px 15px rgba(0,0,0,0.5); }
    .hero-subtitle {
      font-family: var(--font-en);
      font-style: italic;
      font-size: 3.1rem;
      letter-spacing: 0.2em;
      margin-top: 12px;
      margin-bottom: 22px;
      opacity: 0.85;
    }
    .hero-date-line { font-size: 1.2rem; letter-spacing: 0.3em; font-family: var(--font-en); text-transform: uppercase; border-top: 1px solid rgba(255,255,255,0.7); padding-top: 20px; display: inline-block; margin-top: 10px; }

    /* === 3. Intro Section === */
    .intro-section { min-height: 100vh; display: flex; align-items: center; justify-content: center; padding: 80px 0; }
    
    .intro-grid { display: grid; grid-template-columns: 1fr 1.2fr; gap: 60px; align-items: center; width: 100%; }
    
    @media(max-width: 900px) { 
      .intro-grid { grid-template-columns: 1fr; gap: 40px; } 
      .intro-section { padding-top: 80px; align-items: flex-start; }
      .intro-text-col { text-align: center; order: 1; }
      .intro-img-wrap { order: 2; }
    }
    
    .intro-img-wrap { position: relative; border-radius: 4px; overflow: hidden; box-shadow: 0 20px 40px rgba(0,0,0,0.1); }
    .intro-text-col { padding: 20px; }
    .intro-title { font-size: 1.6rem; font-style: italic; margin-bottom: 30px; font-family: var(--font-zh); font-weight: 600; }
    .intro-body { font-size: 1.05rem; line-height: 2.4; color: #555; margin-bottom: 40px; }
    .countdown-divider { width: 60px; height: 1px; background: var(--red-accent); margin: 30px 0; }
    @media(max-width: 900px) { .countdown-divider { margin: 30px auto; } }

    .countdown-wrap { display: flex; gap: 30px; margin-bottom: 20px; }
    @media(max-width: 900px) { .countdown-wrap { justify-content: center; } }
    .cd-item { text-align: center; font-family: var(--font-en); }
    .cd-number { font-size: 2.5rem; line-height: 1; color: #333; font-weight: 500; }
    .cd-label { font-size: 0.7rem; letter-spacing: 2px; color: #999; text-transform: uppercase; margin-top: 5px; }

    /* [NEW] Add to Calendar Button Style */
    .calendar-btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 20px;
      background-color: transparent;
      border: 1px solid var(--accent-color);
      color: var(--accent-color);
      font-family: var(--font-en);
      font-size: 0.85rem;
      letter-spacing: 1px;
      border-radius: 50px;
      text-transform: uppercase;
      text-decoration: none;
      cursor: pointer;
      transition: all 0.3s;
      margin-top: 15px;
    }
    .calendar-btn:hover {
      background-color: var(--accent-color);
      color: #fff;
    }
    .calendar-btn svg { width: 16px; height: 16px; }

    /* === 4. Story Section === */
    .story-section { padding: 80px 0; }
    .story-row { display: flex; align-items: center; gap: 60px; margin-bottom: 100px; }
    .story-row.reverse { flex-direction: row-reverse; } 
    .story-img-col { flex: 1; }
    .story-img-col img { width: 100%; border-radius: 4px; box-shadow: 0 15px 30px rgba(0,0,0,0.05); transition: transform 0.6s ease; }
    .story-img-col:hover img { transform: scale(1.02); }
    .story-text-col { flex: 1; padding: 0 20px; }
    .story-text-col h3 { font-family: var(--font-en); font-size: 2.5rem; color: var(--accent-color); margin-bottom: 20px; }
    .story-text-col p { font-size: 1rem; color: #666; margin-bottom: 20px; text-align: justify; }
    @media(max-width: 768px) {
    .story-row, .story-row.reverse { 
      flex-direction: column; 
      gap: 40px; 
      margin-bottom: 80px; 
    }

    /* âœ… è®“æ‰‹æ©Ÿç‰ˆ Story æ°¸é æ˜¯ï¼šæ–‡å­—åœ¨ä¸Šã€ç…§ç‰‡åœ¨ä¸‹ */
    .story-row .story-text-col,
    .story-row.reverse .story-text-col { order: 1; }

    .story-row .story-img-col,
    .story-row.reverse .story-img-col { order: 2; }

    .story-text-col { text-align: center; padding: 0; }
    .story-text-col p { text-align: center; }
  }


    /* === 5. Timeline Section === */
    .timeline-section { padding: 40px 0 100px 0; }
    .section-title-center { text-align: center; font-family: var(--font-en); font-size: 2.5rem; color: var(--text-color); margin-bottom: 60px; }
    
    .timeline { position: relative; max-width: 800px; margin: 0 auto; }
    .timeline::after { content: ''; position: absolute; width: 1px; background-color: var(--accent-color); top: 0; bottom: 0; left: 50%; margin-left: -0.5px; opacity: 0.3; }
    .timeline-item { padding: 10px 40px; position: relative; background-color: inherit; width: 50%; }
    .timeline-item.left { left: 0; text-align: right; }
    .timeline-item.right { left: 50%; text-align: left; }
    .timeline-item::after { content: ''; position: absolute; width: 12px; height: 12px; right: -6px; background-color: #fff; border: 2px solid var(--accent-color); top: 20px; border-radius: 50%; z-index: 1; }
    .timeline-item.right::after { left: -6px; }
    .timeline-content h4 { font-family: var(--font-en); font-size: 1.8rem; margin: 0; color: var(--accent-color); line-height: 1; }
    .timeline-content h5 { font-family: var(--font-zh); font-size: 1.1rem; margin: 5px 0 10px 0; font-weight: 600; color: #333; }
    .timeline-content p { font-size: 0.95rem; color: #777; margin: 0; }
    @media (max-width: 600px) {
      .timeline::after { left: 20px; }
      .timeline-item { width: 100%; padding-left: 50px; padding-right: 25px; text-align: left; }
      .timeline-item.left { text-align: left; }
      .timeline-item.right { left: 0%; }
      .timeline-item::after { left: 14px; }
      .timeline-item.right::after { left: 14px; }
    }

    /* === 6. Parallax Quote === */
    .parallax-quote {
      position: relative; height: 400px;
      background-image: url('https://images.unsplash.com/photo-1522673607200-1645062cd958?auto=format&fit=crop&w=1600&q=80');
      background-size: cover; background-attachment: fixed; background-position: center;
      display: flex; align-items: center; justify-content: center; color: #fff;
    }
    .parallax-overlay { position: absolute; inset: 0; background: rgba(0,0,0,0.4); }
    .quote-content { position: relative; z-index: 2; text-align: center; max-width: 700px; padding: 20px; }
    .quote-text { font-family: var(--font-en); font-size: 2rem; font-style: italic; line-height: 1.6; white-space: nowrap;}
    @media (max-width: 768px) {
      .quote-text {
        white-space: normal;   /* ğŸ“± æ‰‹æ©Ÿæ¢å¾©è‡ªå‹•æ›è¡Œ */
      }
    }
    
    /* === 7. Moments Gallery === */
    .moments-section { padding: 100px 0; }
    .moments-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; }
    .moment-item { overflow: hidden; border-radius: 4px; }
    .moment-item img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.8s ease; aspect-ratio: 2/3; }
    .moment-item:hover img { transform: scale(1.1); }
    @media(max-width: 768px) { .moments-grid { grid-template-columns: 1fr; } }


    /* === 8. æ—¥æ›†èˆ‡è³‡è¨Š (ç²—é«” + è·³å‹•æ„›å¿ƒ) === */
    .details-section { text-align: center; padding: 100px 0; background: #faf9f6; }
    .double-happiness { font-size: 4rem; color: var(--red-accent); font-weight: bold; margin-bottom: 20px; font-family: "Microsoft JhengHei", sans-serif; }
    .date-large { font-size: 1.5rem; letter-spacing: 2px; margin-bottom: 10px; }
    .lunar-date { font-size: 1rem; color: #666; margin-bottom: 10px; } /* æ¸›å°‘åº•éƒ¨ margin */

    .calendar-wrapper { max-width: 450px; margin: 0 auto; border-top: 1px solid #ddd; padding-top: 30px; margin-bottom: 60px; }
    .cal-header { display: flex; align-items: baseline; gap: 10px; margin-bottom: 20px; justify-content: center;}
    .cal-month { font-size: 3rem; color: var(--red-accent); font-family: var(--font-en); line-height: 1; font-weight: bold; }
    .cal-year { font-size: 1.2rem; color: var(--red-accent); font-family: var(--font-en); font-weight: bold;}
    
    .cal-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 8px; text-align: center; }
    
    /* ç²—é«”è¨­å®š */
    .cal-head { color: #222; font-size: 1rem; margin-bottom: 10px; font-family: var(--font-en); font-weight: 700; }
    .cal-day { 
      aspect-ratio: 1; display: flex; align-items: center; justify-content: center; 
      font-family: var(--font-en); font-size: 1.2rem; color: #333; font-weight: 700; 
    }
    
    @keyframes heartbeat {
      0% { transform: scale(1); }
      15% { transform: scale(1.15); }
      30% { transform: scale(1); }
      45% { transform: scale(1.15); }
      60% { transform: scale(1); }
      100% { transform: scale(1); }
    }

    .cal-day.heart { position: relative; color: #fff !important; font-weight: bold; z-index: 1; text-shadow: 0 1px 2px rgba(0,0,0,0.1); }
    .cal-day.heart::before {
      content: 'â¤'; 
      position: absolute; inset: 0; 
      display: flex; align-items: center; justify-content: center; 
      color: #d63031; 
      font-size: 2.4rem; 
      opacity: 1; 
      z-index: -1;
      padding-bottom: 4px;
      animation: heartbeat 1.3s infinite ease-in-out; 
    }

    /* === 9. åœ°åœ– & äº¤é€š === */
    .map-section { padding-bottom: 80px; padding-top: 80px; }
    .location-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 40px; margin-bottom: 40px; text-align: left; }
    @media(max-width: 768px) { .location-grid { grid-template-columns: 1fr; gap: 30px; } }

    .loc-title { font-family: var(--font-zh); font-size: 1.4rem; color: var(--red-accent); margin-bottom: 15px; font-weight: 700; letter-spacing: 1px; }
    .loc-name { font-size: 1.2rem; font-weight: 700; margin-bottom: 5px; color: #333; }
    .loc-detail, .loc-addr { color: #666; margin-bottom: 5px; font-size: 1rem; }
    .transport-list { list-style: none; padding: 0; margin: 0; }
    .transport-list li { margin-bottom: 12px; color: #555; padding-left: 0; line-height: 1.6; }
    .transport-list strong { color: #333; font-weight: 700; margin-right: 5px; }

    .map-wrap { 
      width: 100%;
      max-width: 1400px;     /* âœ… å·¦å³ç¸®å°çš„é—œéµ */
      margin: 0 auto;       /* âœ… æ°´å¹³ç½®ä¸­ */
      height: 560px;
      background: #eee; 
      filter: grayscale(0%); 
      box-shadow: 0 10px 30px rgba(0,0,0,0.05);
      border-radius: 4px; 
      overflow: hidden;
    }
    @media(max-width: 768px) {
      .map-wrap {
        max-width: 100%;
        height: 260px;
      }
    }
    .map-wrap iframe { width: 100%; height: 100%; border: 0; }

    /* === æ§åˆ¶é … === */
    .controls { position: fixed; bottom: 30px; right: 30px; z-index: 100; display: flex; flex-direction: column; gap: 15px; align-items: center; }
    .music-disc { width: 50px; height: 50px; background: #222; border-radius: 50%; border: 2px solid var(--accent-color); display: flex; align-items: center; justify-content: center; cursor: pointer; box-shadow: 0 5px 15px rgba(0,0,0,0.2); }
    .music-disc svg { width: 20px; color: #fff; }
    .music-disc.playing { animation: spin 4s linear infinite; }
    .music-disc.paused { animation: none; opacity: 0.7; }
    .scroll-btn { font-size: 10px; font-family: var(--font-en); letter-spacing: 1px; color: #333; background: rgba(255,255,255,0.8); padding: 4px 8px; border-radius: 4px; cursor: pointer; text-transform: uppercase; border: 1px solid #ccc; }
    .scroll-btn.active { background: var(--accent-color); color: #fff; border-color: transparent; }
    @keyframes spin { 100% { transform: rotate(360deg); } }
    footer { text-align: center; padding: 40px; background: #333; color: #888; font-size: 0.8rem; }
  </style>
</head>
<body>

  <!-- ä¿¡å° (Modern + High Contrast Shadow) -->
  <div id="envelope-overlay">
    <div class="click-hint">
      <h3>é»æ“Šä¿¡å°é–‹å•Ÿé‚€è«‹å‡½</h3>
      <span>Click to open the invitation</span>
    </div>

    <div class="modern-env" onclick="openEnvelope()">
      <div class="env-back"></div>
      <div class="env-card">
        <div class="env-card-text">å´‡è¯ & èˆ’å©·</div>
        <div style="font-size:0.8rem; letter-spacing:2px; color:#888; margin-top:5px;">WEDDING</div>
      </div>
      <div class="env-front"></div>
      <div class="env-flap"></div>
      <div class="gold-seal">OPEN</div>
    </div>
  </div>

  <audio id="bg-music" loop>
    <!-- è«‹ç¢ºèªæ‚¨çš„éŸ³æ¨‚è·¯å¾‘æ˜¯å¦æ­£ç¢º -->
    <source src="assets/Jake Miller - Lucky Me (The proposal).mp3" type="audio/mp3">
  </audio>

  <div class="controls">
    <div class="scroll-btn" id="scroll-toggle" onclick="toggleAutoScrollManually()">Auto Scroll</div>
    <div class="music-disc paused" id="music-toggle" onclick="toggleMusic()">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 18V5l12-2v13"></path><circle cx="6" cy="18" r="3"></circle><circle cx="18" cy="16" r="3"></circle></svg>
    </div>
  </div>

  <!-- Hero -->
  <header class="hero" id="hero">
    <div class="hero-bg"></div>
    <div class="hero-content">
      <h1 class="hero-title">å´‡è¯ & èˆ’å©·</h1>
      <div class="hero-subtitle">Our Wedding</div>
      <div class="hero-date-line">MAY 24, 2026</div>
    </div>
  </header>

  <!-- Intro -->
  <section class="container intro-section fade-up" id="intro">
    <div class="intro-grid">
      <div class="intro-text-col">
        <div class="intro-title">ã€Œçµ¦æˆ‘å€‘æ‘¯æ„›çš„è¦ªå‹å€‘ã€</div>
        <div class="intro-body">
          ç•¶é€™å°é‚€è«‹å‡½ä¾†åˆ°ä½ æ‰‹ä¸­<br>
          ä»£è¡¨æˆ‘å€‘æœ€çæƒœçš„äºº<br>
          æ­£æº–å‚™èˆ‡æˆ‘å€‘ä¸€åŒè¿æ¥äººç”Ÿçš„é‡è¦æ™‚åˆ»<br>
          æˆ‘å€‘æ­£ä¸€å¤©å¤©å€’æ•¸<br>
          æ»¿æ‡·æœŸå¾…èˆ‡ä½ ç›¸è¦‹<br>
          åœ¨é‚£å±¬æ–¼æˆ‘å€‘çš„ç‰¹åˆ¥æ—¥å­è£¡<br>
          èª æ‘¯é‚€è«‹ä½ è’è‡¨<br>
          ä¸€åŒè¦‹è­‰æˆ‘å€‘çš„å¹¸ç¦
        </div>
        <div class="countdown-divider"></div>
        <div class="countdown-wrap">
          <div class="cd-item"><div class="cd-number" id="cd-days">0</div><div class="cd-label">DAYS</div></div>
          <div class="cd-item"><div class="cd-number">:</div></div>
          <div class="cd-item"><div class="cd-number" id="cd-hours">0</div><div class="cd-label">HOURS</div></div>
          <div class="cd-item"><div class="cd-number">:</div></div>
          <div class="cd-item"><div class="cd-number" id="cd-mins">0</div><div class="cd-label">MINS</div></div>
          <div class="cd-item"><div class="cd-number">:</div></div>
          <div class="cd-item"><div class="cd-number" id="cd-secs">0</div><div class="cd-label">SECS</div></div>
        </div>
        
        <!-- [Added here per your previous prompt, though requested to be near date details] 
             I'll remove it from here if you only want it in the details section. 
             For now, I'll put it in the details section as per your latest request. -->
      </div>
      <div class="intro-img-wrap">
        <img src="assets/img/dsc_1763.webp" alt="Wedding Couple">
      </div>
    </div>
  </section>

  <!-- Story -->
  <section class="container story-section">
    <div class="story-row fade-up">
      <div class="story-img-col">
        <img src="assets/img/dsc_1680.webp" alt="Meeting">
      </div>
      <div class="story-text-col">
        <h3>The Beginning</h3>
        <p>é‚£æ˜¯ä¸€å€‹é™½å…‰æ™®ç…§çš„åˆå¾Œï¼Œæˆ‘å€‘åœ¨ç¶²çƒå ´ä¸Šç›¸é‡ã€‚</p>
        <p>ç¶²çƒåœ¨ç©ºä¸­åŠƒå‡ºçš„å¼§ç·šï¼Œä¼´éš¨è‘—è¿é¢è€Œä¾†çš„å¾®é¢¨ï¼Œç·¨ç¹”æˆäº†æˆ‘å€‘æ•…äº‹çš„åºç« ã€‚</p>
        <p>å¾é‚£åˆ»èµ·ï¼Œç”Ÿæ´»ä¸­çš„å¤§å°äº‹å› ç‚ºæœ‰ä½ åˆ†äº«è€Œè®Šå¾—ä¸å¹³å‡¡ã€‚æˆ‘å€‘ä¸€èµ·èµ°éäº†å››å­£ï¼Œä¹Ÿæ›´åŠ ç¢ºå®šï¼Œæœªä¾†çš„æ¯ä¸€æ­¥éƒ½æƒ³èˆ‡ä½ åŒè¡Œã€‚</p>
      </div>
    </div>
    <div class="story-row reverse fade-up">
      <div class="story-img-col">
        <img src="assets/img/dsc_1860.webp" alt="YES">
      </div>
      <div class="story-text-col">
        <h3>The Yes</h3>
        <p>åœ¨å¯Œè‰¯é‡çš„èŠ±æµ·ä¸‹ï¼Œæˆ‘å€‘åœ¨å½¼æ­¤çš„ç›®å…‰è£¡ï¼Œèªªå‡ºäº†é‚£å€‹ç­‰å¾…å·²ä¹…çš„ç­”æ¡ˆã€‚ä½ çš„ç¬‘å®¹èˆ‡çœ¼æ·šï¼Œæ˜¯æˆ‘é€™è¼©å­è¦‹éæœ€ç¾çš„ç•«é¢ã€‚</p>
        <p>ä½ çš„ç¬‘å®¹èˆ‡çœ¼æ·šï¼Œæ˜¯æˆ‘é€™è¼©å­è¦‹éæœ€ç¾çš„ç•«é¢ã€‚</p>
        <p>æ±ºå®šç‰½æ‰‹çš„é€™ä¸€åˆ»ï¼Œæˆ‘å€‘è¨±ä¸‹äº†æ‰¿è«¾ã€‚æœªä¾†çš„è·¯ï¼Œç„¡è«–é¢¨é›¨æˆ–å¤©æ™´ï¼Œæˆ‘å€‘éƒ½å°‡ä¸¦è‚©åŒè¡Œã€‚</p>
      </div>
    </div>
  </section>

  <!-- Timeline -->
  <section class="container timeline-section fade-up">
    <h2 class="section-title-center">Our Journey</h2>
    <div class="timeline">
      <div class="timeline-item left">
        <div class="timeline-content">
          <h4>2017</h4>
          <h5>åˆæ¬¡ç›¸é‡</h5>
          <p>åœ¨ç¶²çƒå ´ä¸Šï¼Œå‘½é‹è®“æˆ‘å€‘ç›¸è­˜ã€‚</p>
        </div>
      </div>
      <div class="timeline-item right">
        <div class="timeline-content">
          <h4>2021ã€2024</h4>
          <h5>è·¨è¶Šæ™‚å·®</h5>
          <p>æˆ‘å€‘åˆ†éš”åœ¨å°ç£èˆ‡æ­æ´²å…©ç«¯ï¼Œéš”è‘—åŠå€‹åœ°çƒï¼Œ
            æ™‚é–“èˆ‡è·é›¢æ•™æœƒæˆ‘å€‘ç­‰å¾…ï¼Œ<br>
            ä¹Ÿè®“æˆ‘å€‘æ›´ç¢ºå®šå½¼æ­¤çš„å­˜åœ¨ã€‚</p>
        </div>
      </div>
      <div class="timeline-item left">
        <div class="timeline-content">
          <h4>2025</h4>
          <h5>æ±‚å©š</h5>
          <p>æˆ‘å€‘ä¸€èµ·å»åŒ—æµ·é“ï¼Œåœ¨å¯Œè‰¯é‡çš„èŠ±æµ·è£¡ï¼Œ<br>
            æˆ‘å€‘è¨±ä¸‹äº†ä¸€è¼©å­çš„æ‰¿è«¾ã€‚</p>
        </div>
      </div>
      <div class="timeline-item right">
        <div class="timeline-content">
          <h4>2026</h4>
          <h5>æˆ‘å€‘çµå©šäº†</h5>
          <p>æ„Ÿè¬æœ‰ä½ ï¼Œè®“æˆ‘å€‘æˆç‚ºå½¼æ­¤çš„å”¯ä¸€ã€‚</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Parallax Quote -->
  <div class="parallax-quote fade-up">
    <div class="parallax-overlay"></div>
    <div class="quote-content">
      <div class="quote-text">â€œLove is not found in words, itâ€™s found in the steps we take together.â€</div>
    </div>
  </div>

    <!-- Moments Gallery -->
    <section class="container moments-section fade-up">
      <div class="section-title-center">Moments</div>
  
      <!-- åƒ…ä½œç”¨æ–¼ Momentsï¼Œä¸å½±éŸ¿å…¶ä»–å€å¡Š -->
      <style>
        /* æ¡Œæ©Ÿï¼šå…©å¼µä¸€æ’ */
        .moments-grid {
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          gap: 24px;
        }
  
        .moment-item {
          overflow: hidden;
          border-radius: 4px;
        }
  
        /* æ©«å¼ç…§ç‰‡å‹å–„æ¯”ä¾‹ */
        .moment-item img {
          width: 100%;
          height: 100%;
          object-fit: cover;
          aspect-ratio: 3 / 2; /* è‹¥æƒ³æ›´å¯¬å¯æ”¹æˆ 16 / 9 */
          transition: transform 0.8s ease;
        }
  
        .moment-item:hover img {
          transform: scale(1.08);
        }
  
        /* æ‰‹æ©Ÿç‰ˆï¼šä¸€å¼µä¸€æ’ */
        @media (max-width: 768px) {
          .moments-grid {
            grid-template-columns: 1fr;
          }
        }
      </style>
  
      <div class="moments-grid">
        <div class="moment-item">
          <img src="assets/img/dsc_1717.webp" alt="Moment 1">
        </div>
        <div class="moment-item">
          <img src="assets/img/dsc_1811.webp" alt="Moment 2">
        </div>
        <div class="moment-item">
          <img src="assets/img/dsc_1897.webp" alt="Moment 3">
        </div>
        <div class="moment-item">
          <img src="assets/img/dsc_1749.webp" alt="Moment 4">
        </div>
      </div>
    </section>  

  <!-- Details / Calendar -->
  <section class="container details-section fade-up">
    <div class="double-happiness">å›</div>
    <div class="date-large">2026 å¹´ 5 æœˆ 24 æ—¥ æ˜ŸæœŸæ—¥</div>
    <div class="lunar-date">è¾²æ›†å››æœˆåˆå…«</div>
    
    <!-- [NEW] åŠ å…¥è¡Œäº‹æ›†æŒ‰éˆ• (Placed Here) -->
    <div style="margin-top: 15px; margin-bottom: 25px;">
        <a class="calendar-btn" onclick="downloadICS()">  
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
          åŠ å…¥è¡Œäº‹æ›†
        </a>
    </div>

    <hr style="width: 50px; border: 1px solid var(--accent-color); margin: 30px auto;">

    <div class="calendar-wrapper">
      <div class="cal-header">
        <div class="cal-month">05</div>
        <div class="cal-year">/ 24 <span style="font-size: 0.8rem; color: var(--red-accent); margin-left: 10px;">2026</span></div>
      </div>
      <div class="cal-grid">
        <div class="cal-head">Sun</div><div class="cal-head">Mon</div><div class="cal-head">Tue</div><div class="cal-head">Wed</div><div class="cal-head">Thu</div><div class="cal-head">Fri</div><div class="cal-head">Sat</div>
        <div class="cal-day"></div><div class="cal-day"></div><div class="cal-day"></div><div class="cal-day"></div><div class="cal-day"></div><div class="cal-day">1</div><div class="cal-day">2</div>
        <div class="cal-day">3</div><div class="cal-day">4</div><div class="cal-day">5</div><div class="cal-day">6</div><div class="cal-day">7</div><div class="cal-day">8</div><div class="cal-day">9</div>
        <div class="cal-day">10</div><div class="cal-day">11</div><div class="cal-day">12</div><div class="cal-day">13</div><div class="cal-day">14</div><div class="cal-day">15</div><div class="cal-day">16</div>
        <div class="cal-day">17</div><div class="cal-day">18</div><div class="cal-day">19</div><div class="cal-day">20</div><div class="cal-day">21</div><div class="cal-day">22</div><div class="cal-day">23</div>
        <div class="cal-day heart"><span>24</span></div>
        <div class="cal-day">25</div><div class="cal-day">26</div><div class="cal-day">27</div><div class="cal-day">28</div><div class="cal-day">29</div><div class="cal-day">30</div>
        <div class="cal-day">31</div>
      </div>
    </div>

    <div style="display:flex; justify-content:center; gap:40px; margin-top:40px;">
       <div><div style="font-size:2rem; color:var(--red-accent);">ğŸ¥‚</div><div>11:30 AM</div><div style="font-size:0.9rem; color:#666;">è¿è³“é…’æœƒ</div></div>
       <div style="border-right:1px solid #ddd;"></div>
       <div><div style="font-size:2rem; color:var(--red-accent);">ğŸ´</div><div>12:00 PM</div><div style="font-size:0.9rem; color:#666;">å¹¸ç¦é–‹å¸­</div></div>
    </div>
  </section>

  <!-- Map -->
    <!-- å©šå®´åœ°é» -->
    <div style="text-align:center; margin-bottom:40px;">
      <h3 class="loc-title">
        <span style="color:var(--red-accent); margin-right:8px;">ğŸ“</span>å©šå®´åœ°é»
      </h3>
      <p class="loc-name">æ™¶å®´æœƒé¤¨-æ¡ƒåœ’é¤¨</p>
      <p class="loc-detail">2F æ†åŠ‡å ´</p>
      <p class="loc-addr">33076 æ¡ƒåœ’å¸‚æ¡ƒåœ’å€å—å¹³è·¯ 166 è™Ÿ</p>
    </div>
  
    <!-- Google Map -->
    <div class="map-wrap" style="margin-bottom:30px;">
      <iframe
        title="map"
        loading="lazy"
        src="https://www.google.com/maps?q=æ™¶å®´æœƒé¤¨-æ¡ƒåœ’é¤¨&output=embed">
      </iframe>
    </div>
  
    <!-- äº¤é€šæ–¹å¼ï¼ˆç½®ä¸­ï¼‰ -->
    <div style="text-align:center; max-width:700px; margin:0 auto 40px auto;">
      <h3 class="loc-title">
        <span style="color:var(--red-accent); margin-right:8px;">ğŸš‰</span>äº¤é€šæ–¹å¼
      </h3>
    </div>  

    <!-- æ–°å¢ç…§ç‰‡ -->
    <div style="max-width: 1400px; margin: 0 auto;">
      <img
        src="assets/img/commute.webp"
        alt="Venue Photo"
        style="
          width:100%;
          border-radius:4px;
          box-shadow:0 15px 30px rgba(0,0,0,0.08);
        ">
    </div>
  </section>
  

  <!-- RSVP -->
  <section class="container fade-up" id="rsvp" style="padding-bottom: 80px;">
     <h2 class="text-center" style="margin-top: 20px; margin-bottom: 20px; color:var(--red-accent);">âœ¨èª æ‘¯é‚€è«‹</h2>
     <p class="text-center" style="margin-bottom: 30px;">ç…©è«‹æ–¼ 2026/02/15 å‰å›è¦†</p>
     <div class="form-container">
       <iframe src="https://docs.google.com/forms/d/e/1FAIpQLScWCIwZW7IWYH_JNmB_xrjLhef8xCqFZXv-QHmnH0jAgdablw/viewform?embedded=true" height="2800" style="width:100%; max-width:640px; margin:0 auto; display:block;" frameborder="0" marginheight="0" marginwidth="0">Loading...</iframe>
     </div>
  </section>

  <footer>
    <p>å´‡è¯ & èˆ’å©· Wedding &copy; 2026</p>
  </footer>

  <script>
    const envelopeWrapper = document.querySelector('.modern-env');
    const overlay = document.getElementById('envelope-overlay');
    const audio = document.getElementById('bg-music');
    const musicDisc = document.getElementById('music-toggle');
    const scrollBtn = document.getElementById('scroll-toggle');
    const hero = document.getElementById('hero');
    
    // Countdown
    const targetDate = new Date("2026-05-24T12:00:00+08:00").getTime();
    function updateCountdown() {
      const now = new Date().getTime();
      const distance = targetDate - now;
      if (distance < 0) return;
      document.getElementById("cd-days").innerText = Math.floor(distance / (1000 * 60 * 60 * 24));
      document.getElementById("cd-hours").innerText = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      document.getElementById("cd-mins").innerText = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      document.getElementById("cd-secs").innerText = Math.floor((distance % (1000 * 60)) / 1000);
    }
    setInterval(updateCountdown, 1000);
    updateCountdown();

    // Envelope Action
    function openEnvelope() {
      envelopeWrapper.classList.add('open');
      playMusic();
      setTimeout(() => {
        overlay.classList.add('hidden'); 
        hero.classList.add('active');
        setTimeout(startAutoScroll, 2000);
      }, 1500);
    }

    // Music
    function playMusic() {
      audio.volume = 0.6;
      audio.play().then(() => {
        musicDisc.classList.add('playing');
        musicDisc.classList.remove('paused');
      }).catch(e => console.log('Autoplay blocked', e));
    }
    function toggleMusic() {
      if (audio.paused) {
        audio.play();
        musicDisc.classList.add('playing');
        musicDisc.classList.remove('paused');
      } else {
        audio.pause();
        musicDisc.classList.remove('playing');
        musicDisc.classList.add('paused');
      }
    }

    // Auto Scroll (Mobile-friendly, time-based)
    let isAutoScrolling = false;
    let scrollFrameId = null;
    let lastTs = 0;
    let scrollAccumulator = 0;

    // é€Ÿåº¦ï¼šæ¯ç§’æ²å‹•å¹¾ pxï¼ˆå¯è‡ªè¡Œèª¿æ•´ï¼Œæ‰‹æ©Ÿå»ºè­° 30~60ï¼‰
    const SCROLL_SPEED_PX_PER_SEC = 45;

    function getScrollMaxY() {
      // ç”¨ documentElement æ¯” body ç©©å®š
      const doc = document.documentElement;
      return Math.max(0, doc.scrollHeight - window.innerHeight);
    }

    function autoScrollLoop(ts) {
      if (!isAutoScrolling) return;

      if (!lastTs) lastTs = ts;
      const dt = (ts - lastTs) / 1000; // seconds
      lastTs = ts;

      // ç´¯ç©ã€Œæ‡‰è©²æ²ã€çš„è·é›¢
      scrollAccumulator += SCROLL_SPEED_PX_PER_SEC * dt;

      // ä¸€æ¬¡è‡³å°‘æ² 2pxï¼ˆæ‰‹æ©Ÿè¼ƒä¸å®¹æ˜“è¢«å¿½ç•¥ï¼‰
      let step = Math.floor(scrollAccumulator);
      if (step >= 2) {
        window.scrollBy(0, step);
        scrollAccumulator -= step;
      }

      // é‚Šç•Œï¼šå¿«åˆ°åº•å°±åœ
      if (window.scrollY >= getScrollMaxY() - 2) {
        stopAutoScroll();
        return;
      }

      scrollFrameId = requestAnimationFrame(autoScrollLoop);
    }

    function startAutoScroll() {
      if (isAutoScrolling) return;
      document.documentElement.classList.add('autoscroll-off-smooth'); // âœ… æ–°å¢

      isAutoScrolling = true;
      scrollBtn.classList.add('active');

      lastTs = 0;
      scrollAccumulator = 0;

      // âœ… å…ˆã€Œæ¨ä¸€ä¸‹ã€è®“æ‰‹æ©Ÿç€è¦½å™¨é€²å…¥å¯æ²ç‹€æ…‹ï¼ˆå¾ˆå¸¸æœ‰ç”¨ï¼‰
      window.scrollTo(0, window.scrollY + 2);

      scrollFrameId = requestAnimationFrame(autoScrollLoop);
    }

    function stopAutoScroll() {
      isAutoScrolling = false;
      if (scrollFrameId) cancelAnimationFrame(scrollFrameId);
      scrollFrameId = null;
      scrollBtn.classList.remove('active');

      document.documentElement.classList.remove('autoscroll-off-smooth');
    }

    function toggleAutoScrollManually() {
      if (isAutoScrolling) stopAutoScroll();
      else startAutoScroll();
    }

    // âœ… åªæœ‰ã€ŒçœŸçš„åœ¨æ²å‹•/æ‹–æ›³ã€æ‰åœæ­¢ Auto Scroll
    ['wheel', 'touchmove', 'mousedown'].forEach(evt => {
      window.addEventListener(evt, (e) => {
        // âœ… é»æ§åˆ¶æŒ‰éˆ•å€ä¸ç®—ä½¿ç”¨è€…ä»‹å…¥ï¼ˆé¿å…é»éŸ³æ¨‚/AutoScroll æŒ‰éˆ•å°±åœï¼‰
        if (e.target && e.target.closest && e.target.closest('.controls')) return;

        if (isAutoScrolling) stopAutoScroll();
      }, { passive: true });
    });




    // Fade Up
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
        }
      });
    }, { threshold: 0.1 });
    document.querySelectorAll('.fade-up').forEach(el => observer.observe(el));

    // [NEW] Download ICS Function
    function downloadICS() {
      const event = [
        'BEGIN:VCALENDAR',
        'VERSION:2.0',
        'BEGIN:VEVENT',
        'SUMMARY:Allen & Betty Wedding',
        'DTSTART:20260524T120000', // 2026/05/24 12:00
        'DTEND:20260524T150000',   // çµæŸæ™‚é–“
        'LOCATION:æ™¶å®´æœƒé¤¨-æ¡ƒåœ’é¤¨',
        'DESCRIPTION:èª æ‘¯é‚€è«‹æ‚¨åƒåŠ  Allen & Betty çš„å©šç¦®ã€‚',
        'END:VEVENT',
        'END:VCALENDAR'
      ].join('\n');

      const blob = new Blob([event], { type: 'text/calendar;charset=utf-8' });
      const link = document.createElement('a');
      link.href = URL.createObjectURL(blob);
      link.download = 'wedding-invite.ics';
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
    }
  </script>
</body>
</html>
